# Конфигурация

## Обзор

Runlify CLI использует систему конфигурации для хранения настроек, предпочтений пользователя и параметров проекта. В этом разделе описаны различные аспекты конфигурации Runlify CLI, включая глобальные настройки, конфигурацию проекта и переменные окружения.

## Глобальная конфигурация

Глобальная конфигурация Runlify CLI хранится в домашней директории пользователя и применяется ко всем проектам. Файл конфигурации находится в следующем месте:

- Windows: `%APPDATA%\runlify\config.json`
- macOS: `~/Library/Application Support/runlify/config.json`
- Linux: `~/.config/runlify/config.json`

### Управление глобальной конфигурацией

Для управления глобальной конфигурацией используйте команду `runlify config`:

```bash
# Просмотр всех настроек
runlify config list

# Получение значения конкретной настройки
runlify config get <key>

# Установка значения настройки
runlify config set <key> <value>

# Удаление настройки
runlify config delete <key>
```

### Основные глобальные настройки

| Ключ | Описание | Значение по умолчанию |
|------|----------|------------------------|
| `apiUrl` | URL API Runlify | `https://api.runlify.com` |
| `defaultTemplate` | Шаблон проекта по умолчанию | `basic` |
| `telemetry` | Сбор анонимной статистики использования | `true` |
| `updateCheck` | Автоматическая проверка обновлений | `true` |
| `editor` | Предпочитаемый редактор кода | Определяется системой |
| `timeout` | Таймаут для HTTP-запросов (в миллисекундах) | `30000` |

## Конфигурация проекта

Конфигурация проекта хранится в файле `runlify.json` в корневой директории проекта. Этот файл содержит настройки, специфичные для конкретного проекта.

### Пример файла конфигурации проекта

```json
{
  "name": "my-awesome-project",
  "version": "1.0.0",
  "description": "Мой потрясающий проект на Runlify",
  "template": "react",
  "environments": {
    "development": {
      "apiUrl": "http://localhost:3000/api"
    },
    "staging": {
      "apiUrl": "https://staging-api.example.com"
    },
    "production": {
      "apiUrl": "https://api.example.com"
    }
  },
  "plugins": [
    "runlify-plugin-docker",
    "runlify-plugin-aws"
  ],
  "scripts": {
    "prebuild": "echo 'Running prebuild script'",
    "postdeploy": "echo 'Running postdeploy script'"
  },
  "settings": {
    "generateTypes": true,
    "strictMode": true
  }
}
```

### Основные настройки проекта

| Ключ | Описание |
|------|----------|
| `name` | Имя проекта |
| `version` | Версия проекта |
| `description` | Описание проекта |
| `template` | Используемый шаблон проекта |
| `environments` | Конфигурация для различных окружений |
| `plugins` | Список используемых плагинов |
| `scripts` | Пользовательские скрипты, выполняемые на различных этапах |
| `settings` | Дополнительные настройки проекта |

## Переменные окружения

Runlify CLI поддерживает использование переменных окружения для переопределения настроек конфигурации. Все переменные окружения должны иметь префикс `RUNLIFY_`.

### Основные переменные окружения

| Переменная | Соответствующий ключ конфигурации | Пример |
|------------|-----------------------------------|--------|
| `RUNLIFY_API_URL` | `apiUrl` | `RUNLIFY_API_URL=https://custom-api.example.com` |
| `RUNLIFY_DEFAULT_TEMPLATE` | `defaultTemplate` | `RUNLIFY_DEFAULT_TEMPLATE=vue` |
| `RUNLIFY_TELEMETRY` | `telemetry` | `RUNLIFY_TELEMETRY=false` |
| `RUNLIFY_TIMEOUT` | `timeout` | `RUNLIFY_TIMEOUT=60000` |
| `RUNLIFY_LOG_LEVEL` | - | `RUNLIFY_LOG_LEVEL=debug` |

## Приоритет настроек

Runlify CLI использует следующий порядок приоритета для настроек (от высшего к низшему):

1. Аргументы командной строки
2. Переменные окружения
3. Конфигурация проекта (`runlify.json`)
4. Глобальная конфигурация
5. Значения по умолчанию

## Файлы конфигурации для различных инструментов

Runlify CLI также создает и использует конфигурационные файлы для различных инструментов, таких как:

- `.eslintrc.js` - Конфигурация ESLint
- `tsconfig.json` - Конфигурация TypeScript
- `jest.config.js` - Конфигурация Jest
- `.prettierrc` - Конфигурация Prettier

Эти файлы генерируются автоматически при инициализации проекта и могут быть настроены в соответствии с вашими потребностями.

## Рекомендации по конфигурации

- Используйте глобальную конфигурацию для настроек, которые должны применяться ко всем проектам
- Используйте конфигурацию проекта для настроек, специфичных для конкретного проекта
- Используйте переменные окружения для временного переопределения настроек или в CI/CD-пайплайнах
- Храните чувствительные данные (токены, пароли) в переменных окружения, а не в файлах конфигурации
- Регулярно обновляйте конфигурацию при обновлении Runlify CLI 